<app-header></app-header>

<div class="top">
<h2>Shopping Cart</h2>
<button class="btn btn-primary" (click)=checkout()> Check out</button>
<div *ngIf="messageService.messages.length" class="alert alert-danger">
  <div *ngFor="let message of messageService.messages"><strong>Error:</strong> {{ message }} </div>
</div>
<div *ngIf="!loading">
  <div *ngFor="let p of items" let i={p.phone.id} id="row">
    <div class="column"><img src={{p.phone.picture.lowRes}}> </div>
    <div class="column"><h4> Name: {{p.phone.name}} </h4></div>
    <div class = "column"><h4> Quantity: {{p.buying}} </h4> </div>
    <div class ="column1" > <div class = "column"><input type="number" [(ngModel)]=p.buying value = {{p.buying}} min=1 max={{p.phone.qty}}></div>
     <button type="submit" class="btn btn-primary" (click)=updateCart(p.buying,p.phone.id)>Update</button>
     <br/>
     <br/>
     <br/>
     <br/>
     <button type="submit" class="btn btn-primary" (click)=removeItem(p.phone.id)>Remove</button>
    </div>
     
    <div class ="column"> <h4> Total: {{ p.buying * p.phone.price | currency }}</h4></div>
    </div>  
</div>
</div>

<h2>  Total ${{total | number}}</h2>

